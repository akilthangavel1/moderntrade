<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Under Maintenance</title>
  <style>
    html, body {
      margin: 0;
      font-family: 'Roboto', sans-serif;
      height: 100%;
      background: #EEEEF4;
      font-weight: 100;
      user-select: none;
    }
    
    main {
      height: 100%;
      display: flex;
      margin: 0 20px; /* To look nice on mobile */
      text-align: center;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    
    main h1 {
      font-size: 3em;
      font-weight: 100;
      color: #F44;
      margin: 0;
    }
    
    main h2 {
      font-size: 1.5em;
      font-weight: 100;
      margin-bottom: 0;
    }
    
    main h3 {
      font-size: 1.5em;
      font-weight: 100;
      margin-top: 0;
    }
    
    main a {
      font-size: 1.5em;
      font-weight: 300;
      color: #F44;
      text-decoration: none;
    }
    
    footer {
      position: absolute;
      bottom: 0;
      margin: 10px;
      font-weight: 300;
    }
  </style>
</head>
<body>
  <main>
    <svg xmlns="http://www.w3.org/2000/svg" width="100" height="70" viewBox="0 0 100 68">
      <g id="large">
        <path fill="none" stroke="#F44" d="M55.8 38.5l6.2-1.2c0-1.8-.1-3.5-.4-5.3l-6.3-.2c-.5-2-1.2-4-2.1-6l4.8-4c-.9-1.6-1.9-3-3-4.4l-5.6 3c-1.3-1.6-3-3-4.7-4.1l2-6A30 30 0 0 0 42 8l-3.3 5.4c-2-.7-4.2-1-6.2-1.2L31.3 6c-1.8 0-3.5.1-5.3.4l-.2 6.3c-2 .5-4 1.2-6 2.1l-4-4.8c-1.6.9-3 1.9-4.4 3l3 5.6c-1.6 1.3-3 3-4.1 4.7l-6-2A32.5 32.5 0 0 0 2 26l5.4 3.3c-.7 2-1 4.2-1.2 6.2L0 36.7c0 1.8.1 3.5.4 5.3l6.3.2c.5 2 1.2 4 2.1 6l-4.8 4c.9 1.6 1.9 3 3 4.4l5.6-3c1.4 1.6 3 3 4.7 4.1l-2 6A30.5 30.5 0 0 0 20 66l3.4-5.4c2 .7 4 1 6.1 1.2l1.2 6.2c1.8 0 3.5-.1 5.3-.4l.2-6.3c2-.5 4-1.2 6-2.1l4 4.8c1.6-.9 3-1.9 4.4-3l-3-5.6c1.6-1.3 3-3 4.1-4.7l6 2A32 32 0 0 0 60 48l-5.4-3.3c.7-2 1-4.2 1.2-6.2zm-13.5 4a12.5 12.5 0 1 1-22.6-11 12.5 12.5 0 0 1 22.6 11z"/>
        <animateTransform attributeName="transform" begin="0s" dur="3s" from="0 31 37" repeatCount="indefinite" to="360 31 37" type="rotate"/>
      </g>
      <g id="small">
        <path fill="none" stroke="#F44" d="M93 19.3l6-3c-.4-1.6-1-3.2-1.7-4.8L90.8 13c-.9-1.4-2-2.7-3.4-3.8l2.1-6.3A21.8 21.8 0 0 0 85 .7l-3.6 5.5c-1.7-.4-3.4-.5-5.1-.3l-3-5.9c-1.6.4-3.2 1-4.7 1.7L70 8c-1.5 1-2.8 2-3.9 3.5L60 9.4a20.6 20.6 0 0 0-2.2 4.6l5.5 3.6a15 15 0 0 0-.3 5.1l-5.9 3c.4 1.6 1 3.2 1.7 4.7L65 29c1 1.5 2.1 2.8 3.5 3.9l-2.1 6.3a21 21 0 0 0 4.5 2.2l3.6-5.6c1.7.4 3.5.5 5.2.3l2.9 5.9c1.6-.4 3.2-1 4.8-1.7L86 34c1.4-1 2.7-2.1 3.8-3.5l6.3 2.1a21.5 21.5 0 0 0 2.2-4.5l-5.6-3.6c.4-1.7.5-3.5.3-5.1zM84.5 24a7 7 0 1 1-12.8-6.2 7 7 0 0 1 12.8 6.2z"/>
        <animateTransform attributeName="transform" begin="0s" dur="2s" from="0 78 21" repeatCount="indefinite" to="-360 78 21" type="rotate"/>
      </g>
    </svg>
    <h1>Under Maintenance</h1>
    <h2>Sorry for the inconvenience.</h2>
    <h3>To contact us in the meantime please email:</h3>
    <a href="mailto:admin@MrTimcakes.com">admin@moneyguru.co.in</a>
  </main>
  <footer>MoneyGuru</footer>
</body>
</html> -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SSE Example</title>
</head>
<body>
    <h1>Server-Sent Events in Django</h1>
    <div id="sse-data"></div>

    <script>
        const eventSource = new EventSource('/events/');
        
        eventSource.onmessage = function(event) {
            document.getElementById('sse-data').innerHTML += event.data + '<br>';
        };

        eventSource.onerror = function(err) {
            console.error("EventSource failed:", err);
        };
    </script>
</body>
</html> -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticker Stream</title>
</head>
<body>
    <h1>Real-time Ticker Data</h1>
    <table border="1">
        <thead>
            <tr>
                <th>Ticker Name</th>
                <th>Symbol</th>
                <th>Sector</th>
                <th>Sub Sector</th>
                <th>Market Cap</th>
            </tr>
        </thead>
        <tbody id="ticker-table">
            
        </tbody>
    </table>

    <script>
        const eventSource = new EventSource('/events/');

        eventSource.onmessage = function(event) {
            const data = event.data;
            const tickerList = JSON.parse(data);  // Parse the JSON string into an array
            const tbody = document.getElementById("ticker-table");
            
            tbody.innerHTML = '';  // Clear previous data

            tickerList.forEach(ticker => {
                const tr = document.createElement("tr");

                const nameTd = document.createElement("td");
                nameTd.textContent = ticker.name;

                const symbolTd = document.createElement("td");
                symbolTd.textContent = ticker.symbol;

                const sectorTd = document.createElement("td");
                sectorTd.textContent = ticker.sector;

                const subSectorTd = document.createElement("td");
                subSectorTd.textContent = ticker.sub_sector ? ticker.sub_sector : "N/A";

                const marketCapTd = document.createElement("td");
                marketCapTd.textContent = ticker.market_cap;

                tr.appendChild(nameTd);
                tr.appendChild(symbolTd);
                tr.appendChild(sectorTd);
                tr.appendChild(subSectorTd);
                tr.appendChild(marketCapTd);

                tbody.appendChild(tr);
            });
        };

        eventSource.onerror = function() {
            console.error("EventSource failed.");
        };
    </script>
</body>
</html> -->
<!-- 
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statement Summary</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #121212;
            /* Dark background for the body */
            color: #e0e0e0;
            /* Light text color */
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: #1e1e1e;
            /* Dark background for the table */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            overflow: hidden;
        }

        thead {
            background-color: #4c4747;
            color: #ffffff;
            /* White text color */
        }

        th,
        td {
            padding: 12px 15px;
            text-align: center;
            border-right: 1px solid #444;
            /* Darker border color */
        }

        th {
            font-size: .85em;
            letter-spacing: .1em;
            text-transform: uppercase;
        }

        td {
            font-size: 14px;
        }

        tr {
            border-bottom: 1px solid #444;
            /* Darker border color */
        }

        tr:last-child td {
            border-bottom: 0;
        }

        td:last-child {
            border-right: 0;
        }

        tr:nth-child(even) {
            background-color: #2c2c2c;
            /* Slightly lighter dark background for even rows */
        }

        tbody tr:hover {
            background-color: #333333;
            /* Hover effect background */
        }

        @media screen and (max-width: 600px) {
            table {
                border: 0;
            }

            caption {
                font-size: 1.3em;
            }

            thead {
                border: none;
                clip: rect(0 0 0 0);
                height: 1px;
                margin: -1px;
                overflow: hidden;
                padding: 0;
                position: absolute;
                width: 1px;
            }

            tr {
                border-bottom: 3px solid #444;
                /* Darker border color */
                display: block;
                margin-bottom: .625em;
            }

            td {
                border-bottom: 1px solid #444;
                /* Darker border color */
                display: block;
                font-size: .8em;
                text-align: right;
            }

            td::before {
                content: attr(data-label);
                float: left;
                font-weight: bold;
                text-transform: uppercase;
            }

            td:last-child {
                border-bottom: 0;
            }
        }
    </style>
</head>

<body>
    <table>
        <thead>
            <tr>
                <th scope="col">Stock Name</th>
                <th scope="col">Sector</th>
                <th scope="col">Sub-Sector</th>
                <th scope="col">Market Cap</th>
                
            </tr>
        </thead>
        <tbody id="stock-table-body">
           
        </tbody>
    </table>

    <script>
        // const mydata = "{{ tickers|safe }}";
        var tickers = JSON.parse('{{ tickers|safe }}');
        console.log(tickers);
        var tableBody = document.getElementById('stock-table-body');
        tickers.forEach(function (ticker) {
            var row = document.createElement('tr');

            var cellStockName = document.createElement('td');
            cellStockName.textContent = ticker.ticker_name;
            row.appendChild(cellStockName);

            var cellSector = document.createElement('td');
            cellSector.textContent = ticker.ticker_sector;
            row.appendChild(cellSector);

            var cellSubSector = document.createElement('td');
            cellSubSector.textContent = ticker.ticker_sub_sector;
            row.appendChild(cellSubSector);

            var cellMarketCap = document.createElement('td');
            cellMarketCap.textContent = ticker.ticker_market_cap;
            row.appendChild(cellMarketCap);

            

            tableBody.appendChild(row);
        });
    </script>
</body>

</html> -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticker Stream</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #121212;
            color: #e0e0e0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: #1e1e1e;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            overflow: hidden;
        }

        thead {
            background-color: #4c4747;
            color: #ffffff;
        }

        th, td {
            padding: 12px 15px;
            text-align: center;
            border-right: 1px solid #444;
        }

        th {
            font-size: .85em;
            letter-spacing: .1em;
            text-transform: uppercase;
        }

        td {
            font-size: 14px;
        }

        tr {
            border-bottom: 1px solid #444;
        }

        tr:last-child td {
            border-bottom: 0;
        }

        td:last-child {
            border-right: 0;
        }

        tr:nth-child(even) {
            background-color: #2c2c2c;
        }

        tbody tr:hover {
            background-color: #333333;
        }

        @media screen and (max-width: 600px) {
            table {
                border: 0;
            }

            thead {
                border: none;
                clip: rect(0 0 0 0);
                height: 1px;
                margin: -1px;
                overflow: hidden;
                padding: 0;
                position: absolute;
                width: 1px;
            }

            tr {
                border-bottom: 3px solid #444;
                display: block;
                margin-bottom: .625em;
            }

            td {
                border-bottom: 1px solid #444;
                display: block;
                font-size: .8em;
                text-align: right;
            }

            td::before {
                content: attr(data-label);
                float: left;
                font-weight: bold;
                text-transform: uppercase;
            }

            td:last-child {
                border-bottom: 0;
            }
        }
    </style>
</head>

<body>
    <table>
        <thead>
            <tr>
                <th scope="col">Ticker Name</th>
                <th scope="col">Sector</th>
                <th scope="col">Sub-Sector</th>
                <th scope="col">Market Cap</th>
            </tr>
        </thead>
        <tbody id="ticker-table-body">
            <!-- Dynamic content will be inserted here -->
        </tbody>
    </table>

    <script>
        const eventSource = new EventSource('/events/');

        eventSource.onmessage = function(event) {
            const data = event.data;
            const tickerList = JSON.parse(data);
            const tableBody = document.getElementById('ticker-table-body');
            
            tableBody.innerHTML = '';  // Clear previous data

            tickerList.forEach(function(ticker) {
                const row = document.createElement('tr');

                const cellTickerName = document.createElement('td');
                cellTickerName.textContent = ticker.name;
                row.appendChild(cellTickerName);

                const cellSector = document.createElement('td');
                cellSector.textContent = ticker.sector;
                row.appendChild(cellSector);

                const cellSubSector = document.createElement('td');
                cellSubSector.textContent = ticker.sub_sector || "N/A";
                row.appendChild(cellSubSector);

                const cellMarketCap = document.createElement('td');
                cellMarketCap.textContent = ticker.market_cap;
                row.appendChild(cellMarketCap);

                tableBody.appendChild(row);
            });
        };

        eventSource.onerror = function() {
            console.error("EventSource failed.");
        };
    </script>
</body>

</html>
